@import "common/var";
@import "mixins/mixins";

$namespace: 'dbj';

@include b(dir-upload) {
  width: 520px;

  > .el-upload-wrapper {
    line-height: 16px;
    padding-top: 12px;
    .el-upload {
      display: block;
      text-align: left;
    }
  }

  @include e(button) {
    color: $--color-primary;
    font-size: 12px;
    line-height: 16px;
    & i {
      font-size: 14px;
      margin-right: 2px;
    }
  }

  @include e(tip) {
    font-size: 12px;
    line-height: 16px;
    margin-top: 4px;
    color: #999;
  }

  @include e(panel) {
    display: none;
    @include e(content) {
      display: flex;
      flex-flow: row nowrap;
      align-items: center;
      > i.el-icon-arrow-down {
        visibility: hidden;
        font-size: 20px;
        color: #999;
        cursor: pointer;
        transition: .3s ease all;
      }
      > img {
        width: 32px;
        height: 32px;
        margin-left: 2px;
      }

      > .content-wrapper {
        margin-left: 8px;
        flex: 1;
        > .top {
          display: flex;
          flex-flow: row nowrap;
          align-items: center;
          i {
            display: none;
          }

          @include e(label) {
            flex: 1;
            display: flex;
            flex-flow: row nowrap;
            align-items: center;
            line-height: 16px;
            height: 16px;
            .file-name {
              font-size: 12px;
              color: #333;
            }
            > i.dbj-icon-success {
              margin-left: 12px;
              font-size: 14px;
              color: $--color-primary;
            }
            > i.dbj-icon-warn {
              margin-left: 12px;
              font-size: 14px;
              color: #ff6160;
            }
          }

          .file-size {
            font-size: 0;
            .current {
              font-size: 12px;
              color: #666;
            }
            .total {
              font-size: 12px;
              color: #999;
            }
          }
          > i {
            margin-left: 12px;
            color: #999;
            font-size: 14px;
            cursor: pointer;
          }
        }

        > .bottom {
          display: none;
          align-items: center;
          justify-content: space-between;
          margin: 0;
          line-height: 16px;
          height: 16px;
          .progress {
            display: block;
            width: 400px;
            height: 2px;
            border-radius: 2px;
            background: #f5f5f5;
            .bar {
              display: block;
              width: 0;
              height: 2px;
              border-radius: 2px;
              background: $--color-primary;
              transition: 0.3s ease all;
            }
          }
          i {
            font-size: 14px;
            color: #999;
            cursor: pointer;
            margin-right: 26px;
          }
        }
      }
    }

    @include e(children) {
      margin-top: 12px;

      .dbj-upload {
        .el-upload-wrapper {
          padding-top: 0;
        }
        .dbj-upload-list {
          padding: 0;
          .dbj-upload-list__item {
            margin: 0;
          }
        }
      }
    }

  }

  &.ready {
    > .el-upload-wrapper {
      display: none;
    }
    > .dbj-dir-upload__tip {
      display: none;
    }
    > .dbj-dir-upload__panel {
      display: block;
    }
  }

  &.uploading {
    .dbj-dir-upload__content {
      .bottom {
        display: flex;
      }
    }
  }

  &.uploaded {
    .dbj-dir-upload__panel {
      .dbj-dir-upload__content {
        > i.el-icon-arrow-down {
          visibility: visible;
        }
        .top i {
          display: inline-block;
        }
        .top i.dbj-icon-warn {
          display: none;
        }
        .bottom {
          display: none;
        }
        .file-size {
          display: none;
        }
      }

      &.expand {
        .dbj-dir-upload__content > i.el-icon-arrow-down {
          transform: rotate(180deg);
        }
      }
    }
  }

  &.no-file {
    .dbj-dir-upload__panel {
      .dbj-dir-upload__content {
        .top i.dbj-icon-success {
          display: none;
        }
        .top i.dbj-icon-warn {
          display: inline-block;
        }
      }
    }
  }
}

$namespace: 'el';
